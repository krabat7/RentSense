# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ VDSina - –ì–∏–¥

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–∏—Ç–∏–∫—É VDSina

–û–±—ã—á–Ω–æ VPS-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (–≤–∫–ª—é—á–∞—è VDSina) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:

### 1. ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞ –Ω–∞ —Ç–æ–º –∂–µ —Å–µ—Ä–≤–µ—Ä–µ (–±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–∞)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ RAM, CPU, –¥–∏—Å–∫–∞
- IP-–∞–¥—Ä–µ—Å –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ —Å –Ω–æ–≤—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:**
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ Docker volumes (mysql_data)
- –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ volumes —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –ù–∏—á–µ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –Ω–µ –Ω—É–∂–Ω–æ

### 2. ‚ö†Ô∏è –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä (—Å –ø–µ—Ä–µ–Ω–æ—Å–æ–º)

**–ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è:**
- –ï—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–ø–≥—Ä–µ–π–¥ "–Ω–∞ –º–µ—Å—Ç–µ"
- –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–¥—Ä—É–≥–æ–π —Ç–∏–ø —Å–µ—Ä–≤–µ—Ä–∞)

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
- –ë—ç–∫–∞–ø –ë–î (—É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç!)
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ docker-compose.prod.yml –∏ .env
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ

## –ù–∞—à –ø—Ä–æ–µ–∫—Ç - –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. **Docker volumes** - –¥–∞–Ω–Ω—ã–µ MySQL –≤ `mysql_data` volume
   ```yaml
   volumes:
     mysql_data:/var/lib/mysql  # –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   ```

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã** - –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00
   ```bash
   # –ë—ç–∫–∞–ø—ã –≤ ./backups/
   0 3 * * * ./backup_db.sh
   ```

3. **–ö–æ–¥ –≤ Git** - –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç

### üìã –ü—Ä–æ—Ü–µ—Å—Å —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Ç–∞—Ä–∏—Ñ–∞ (–æ–±—ã—á–Ω–æ):

1. **–í –ø–∞–Ω–µ–ª–∏ VDSina:**
   - –ó–∞–π—Ç–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
   - –í—ã–±—Ä–∞—Ç—å "–ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ" / "–£–≤–µ–ª–∏—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã"
   - –í—ã–±—Ä–∞—Ç—å –Ω–æ–≤—ã–π —Ç–∞—Ä–∏—Ñ (2 GB RAM, 50 GB –¥–∏—Å–∫)
   - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å

2. **–°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è** —Å –Ω–æ–≤—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
   free -h  # –ü–∞–º—è—Ç—å
   df -h    # –î–∏—Å–∫
   
   # –ó–∞–ø—É—Å–∫ Docker (–µ—Å–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è)
   docker-compose -f docker-compose.prod.yml up -d
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
   docker-compose -f docker-compose.prod.yml exec mysql mysql -uroot -p rentsense -e "SELECT COUNT(*) FROM offers;"
   ```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ù–∞—á–∞—Ç—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ

### –ü–æ—á–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ –Ω–∞—á–∞—Ç—å —Å 1 GB:

1. ‚úÖ –ú–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
2. ‚úÖ Docker volumes —Å–æ—Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –∑–∞—â–∏—â–∞—é—Ç –æ—Ç —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–µ–π
4. ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ —Å—Ç–∞—Ä—Ç–µ (150‚ÇΩ vs 600‚ÇΩ/–º–µ—Å)

### –ö–æ–≥–¥–∞ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å:

- –ö–æ–≥–¥–∞ —É–≤–∏–¥–∏—Ç–µ, —á—Ç–æ RAM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è > 80%
- –ö–æ–≥–¥–∞ –¥–∏—Å–∫ –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è > 80%
- –ö–æ–≥–¥–∞ –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç–∞–Ω–µ—Ç —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω—ã–º

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤:

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h

# Docker —Ä–µ—Å—É—Ä—Å—ã
docker stats

# –†–∞–∑–º–µ—Ä –ë–î
docker-compose exec mysql mysql -uroot -p rentsense -e "SELECT table_schema AS 'Database', ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) AS 'Size (MB)' FROM information_schema.TABLES WHERE table_schema = 'rentsense' GROUP BY table_schema;"
```

## –ò—Ç–æ–≥–æ:

‚úÖ **–ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Å 1 GB**  
‚úÖ **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞ –æ–±—ã—á–Ω–æ –ë–ï–ó –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö**  
‚úÖ **Docker volumes —Å–æ—Ö—Ä–∞–Ω—è—Ç –≤—Å–µ**  
‚úÖ **–ë—ç–∫–∞–ø—ã - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞**  

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏—Ç–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞ (150‚ÇΩ/–º–µ—Å), –º–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã, —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

