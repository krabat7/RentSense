#!/bin/bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹ Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð¿Ð°Ñ€ÑÐµÑ€Ð° Ð¿Ð¾ÑÐ»Ðµ 20:00:27

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘    Ð”Ð˜ÐÐ“ÐÐžÐ¡Ð¢Ð˜ÐšÐ ÐžÐ¡Ð¢ÐÐÐžÐ’ÐšÐ˜ ÐŸÐÐ Ð¡Ð•Ð Ð                            â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

cd /root/rentsense || exit 1

echo "ðŸ“‹ ÐŸÐžÐ¡Ð›Ð•Ð”ÐÐ•Ð• Ð”ÐžÐ‘ÐÐ’Ð›Ð•ÐÐÐžÐ• ÐžÐ‘ÐªÐ¯Ð’Ð›Ð•ÐÐ˜Ð•:"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
docker-compose -f docker-compose.prod.yml logs parser 2>/dev/null | grep "is adding" | tail -1
echo ""

echo "ðŸ“‹ Ð›ÐžÐ“Ð˜ ÐŸÐžÐ¡Ð›Ð• 20:00:27 (Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 50 ÑÑ‚Ñ€Ð¾Ðº Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸):"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
docker-compose -f docker-compose.prod.yml logs parser 2>/dev/null | awk '/2026-01-11 20:00:27/,0' | head -50
echo ""

echo "ðŸ“‹ ÐŸÐžÐ¡Ð›Ð•Ð”ÐÐ˜Ð• Ð¡ÐžÐžÐ‘Ð©Ð•ÐÐ˜Ð¯ Ðž Ð¦Ð˜ÐšÐ›ÐÐ¥ ÐŸÐÐ Ð¡Ð˜ÐÐ“Ð:"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
docker-compose -f docker-compose.prod.yml logs parser 2>/dev/null | grep -E "(ÐÐ°Ñ‡Ð°Ð»Ð¾ Ñ†Ð¸ÐºÐ»Ð°|Ð¦Ð¸ÐºÐ».*Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½|Ð¿Ð°ÑƒÐ·Ð°.*ÑÐµÐºÑƒÐ½Ð´|ÐžÑˆÐ¸Ð±ÐºÐ° Ð² Ñ†Ð¸ÐºÐ»Ðµ)" | tail -10
echo ""

echo "ðŸ“‹ ÐŸÐžÐ¡Ð›Ð•Ð”ÐÐ˜Ð• Ð¡ÐžÐžÐ‘Ð©Ð•ÐÐ˜Ð¯ Ðž Ð—ÐÐ’Ð•Ð Ð¨Ð•ÐÐ˜Ð˜ ÐšÐžÐœÐ‘Ð˜ÐÐÐ¦Ð˜Ð™:"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
docker-compose -f docker-compose.prod.yml logs parser 2>/dev/null | grep -E "(Finished: room=|End of pglist|consecutive empty pages|Error limit)" | tail -15
echo ""

echo "ðŸ“‹ ÐŸÐžÐ¡Ð›Ð•Ð”ÐÐ˜Ð• ÐžÐ¨Ð˜Ð‘ÐšÐ˜:"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
docker-compose -f docker-compose.prod.yml logs parser 2>/dev/null | grep -E "(ERROR|Exception|Traceback)" | tail -10
echo ""

echo "ðŸ”„ Ð¢Ð•ÐšÐ£Ð©Ð˜Ð™ Ð¡Ð¢ÐÐ¢Ð£Ð¡ ÐšÐžÐÐ¢Ð•Ð™ÐÐ•Ð Ð:"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
docker ps --filter "name=rentsense_parser" --format "table {{.Names}}\t{{.Status}}\t{{.State}}"
echo ""

echo "ðŸ“‹ ÐŸÐžÐ¡Ð›Ð•Ð”ÐÐ˜Ð• 30 Ð¡Ð¢Ð ÐžÐš Ð›ÐžÐ“ÐžÐ’ (Ñ‚ÐµÐºÑƒÑ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ):"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
docker-compose -f docker-compose.prod.yml logs --tail 30 parser 2>/dev/null
echo ""

